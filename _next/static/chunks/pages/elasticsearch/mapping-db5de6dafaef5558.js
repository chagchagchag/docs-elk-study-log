(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[668],{890:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/elasticsearch/mapping",function(){return n(6955)}])},6955:function(s,e,n){"use strict";n.r(e),n.d(e,{__toc:function(){return t}});var l=n(5893),i=n(2673),r=n(373),a=n(8426);n(9128);var c=n(2643);let t=[{depth:2,value:"Mapping",id:"mapping"},{depth:2,value:"참고자료",id:"참고자료"},{depth:2,value:"1) Index 를 생성하면서 Mapping 을 설정하는 방식",id:"1-index-를-생성하면서-mapping-을-설정하는-방식"},{depth:2,value:"2) _mapping API 를 통해서 설정하는 방식",id:"2-_mapping-api-를-통해서-설정하는-방식"},{depth:2,value:"mapping 작업시 사용하는 mapping 파라미터",id:"mapping-작업시-사용하는-mapping-파라미터"},{depth:2,value:"데이터 타입",id:"데이터-타입"},{depth:3,value:"Keyword(*)",id:"keyword"},{depth:3,value:"Text",id:"text"},{depth:3,value:"Array",id:"array"},{depth:3,value:"Boolean",id:"boolean"},{depth:3,value:"Date",id:"date"},{depth:3,value:"IP",id:"ip"},{depth:3,value:"Range",id:"range"},{depth:3,value:"Object",id:"object"},{depth:3,value:"Nested(*)",id:"nested"},{depth:2,value:"Metadata Field",id:"metadata-field"}];function _createMdxContent(s){let e=Object.assign({h2:"h2",p:"p",ul:"ul",li:"li",code:"code",br:"br",a:"a",pre:"pre",span:"span",h3:"h3",blockquote:"blockquote"},(0,c.a)(),s.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"mapping",children:"Mapping"}),"\n",(0,l.jsx)(e.p,{children:"Mapping 을 하는 방법은 크게 2가지가 있습니다."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Index 를 생성하면서 Mapping 을 설정하는 방식"}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"_mapping"})," API 를 통해서 설정하는 방식"]}),"\n"]}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.h2,{id:"참고자료",children:"참고자료"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://idea-sketch.tistory.com/63",children:"https://idea-sketch.tistory.com/63"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://bk-investing.tistory.com/45",children:"https://bk-investing.tistory.com/45"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html",children:"https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://logz.io/blog/elasticsearch-mapping/",children:"https://logz.io/blog/elasticsearch-mapping/"})}),"\n"]}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.h2,{id:"1-index-를-생성하면서-mapping-을-설정하는-방식",children:"1) Index 를 생성하면서 Mapping 을 설정하는 방식"}),"\n",(0,l.jsx)(e.pre,{"data-language":"python","data-theme":"default",children:(0,l.jsxs)(e.code,{"data-language":"python","data-theme":"default",children:[(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Click the Variables button, above, to create your own variables."})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"PUT logs_comments_202406_02_backup"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"mappings"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"properties"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"title"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"type"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"text"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"fields"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"keyword"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"type"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"keyword"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"},"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"content"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"type"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"text"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"fields"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"keyword"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"type"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"keyword"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"},"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"author"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"type"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"text"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"},"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"created_at"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"type"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"date"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:" "})]})}),"\n",(0,l.jsxs)(e.p,{children:["위의 mapping 정보는 아래와 같이 ",(0,l.jsx)(e.code,{children:"GET 인덱스명/_mapping"})," 으로 확인 가능합니다."]}),"\n",(0,l.jsx)(e.pre,{"data-language":"python","data-theme":"default",children:(0,l.jsx)(e.code,{"data-language":"python","data-theme":"default",children:(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"GET logs_comments_202406_02_backup"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"_mapping"})]})})}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.p,{children:"출력결과"}),"\n",(0,l.jsx)(e.pre,{"data-language":"plain","data-theme":"default",children:(0,l.jsxs)(e.code,{"data-language":"plain","data-theme":"default",children:[(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'  "logs_comments_202406_02_backup": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'    "mappings": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'      "properties": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'        "author": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "type": "text"'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        },"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'        "content": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "type": "text",'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "fields": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'            "keyword": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'              "type": "keyword"'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"            }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        },"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'        "created_at": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "type": "date"'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        },"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'        "title": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "type": "text",'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "fields": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'            "keyword": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'              "type": "keyword"'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"            }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsxs)(e.h2,{id:"2-_mapping-api-를-통해서-설정하는-방식",children:["2) ",(0,l.jsx)(e.code,{children:"_mapping"})," API 를 통해서 설정하는 방식"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"PUT 인덱스명/_mapping"})," 명령을 통해 이미 생성되어 있는 인덱스에 필드를 추가할수 있는데 이 때 mapping API 를 통해 데이터 타입을 매핑해줄 수 있습니다. 주의할 점이 하나 있습니다. 한번 설정한 Mapping 에 필드를 추가하는 것은 가능하지만, 수정,삭제는 불가능하다는 점입니다."]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"한번 설정한 Mapping 필드를 추가하는 것은 가능"}),"\n",(0,l.jsx)(e.li,{children:"한번 설정한 Mapping 필드는 수정,삭제는 불가능"}),"\n"]}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.p,{children:"아래는 방금 전 추가한 logs_comments_202406_02_backup 인덱스에 새로운 필드를 추가하면서 mapping 을 지정하는 예제입니다."}),"\n",(0,l.jsx)(e.pre,{"data-language":"python","data-theme":"default",children:(0,l.jsxs)(e.code,{"data-language":"python","data-theme":"default",children:[(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"PUT logs_comments_202406_02_backup"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"_mapping"})]}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"properties"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"updated_at"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":{"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"type"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"date"'})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})]}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"}"})})]})}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.p,{children:"출력결과"}),"\n",(0,l.jsx)(e.pre,{"data-language":"bash","data-theme":"default",children:(0,l.jsxs)(e.code,{"data-language":"bash","data-theme":"default",children:[(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:'"acknowledged"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:":"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"true"})]}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.p,{children:"변경된 정보를 확인해봅니다."}),"\n",(0,l.jsx)(e.pre,{"data-language":"python","data-theme":"default",children:(0,l.jsx)(e.code,{"data-language":"python","data-theme":"default",children:(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"GET logs_comments_202406_02_backup"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"/"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"_mapping"})]})})}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.p,{children:"출력결과"}),"\n",(0,l.jsx)(e.pre,{"data-language":"plain","data-theme":"default",children:(0,l.jsxs)(e.code,{"data-language":"plain","data-theme":"default",children:[(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'  "logs_comments_202406_02_backup": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'    "mappings": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'      "properties": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'        "author": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "type": "text"'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        },"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'        "content": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "type": "text",'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "fields": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'            "keyword": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'              "type": "keyword"'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"            }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        },"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'        "created_at": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "type": "date"'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        },"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'        "title": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "type": "text",'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "fields": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'            "keyword": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'              "type": "keyword"'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"            }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        },"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'        "updated_at": {'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'          "type": "date"'})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.h2,{id:"mapping-작업시-사용하는-mapping-파라미터",children:"mapping 작업시 사용하는 mapping 파라미터"}),"\n",(0,l.jsx)(e.p,{children:"indexing 시에 Analyzer 가 데이터를 어떻게 저장할지에 대한 기준을 정의하는 필드 들입니다."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"analyzer : 어떤 분석기를 사용할지를 명시합니다. 분석기는 형태소 분석을 수행하며, 기본값으로 설정된 분석기는 StandardAnalyzer 입니다."}),"\n",(0,l.jsx)(e.li,{children:'coerce : 자동 변환을 허용할지에 대한 여부를 지정하는 필드입니다. 예를들어 "98" 이라는 데이터를 Integer 로 변환하는 경우를 예로 들 수 있습니다.'}),"\n",(0,l.jsx)(e.li,{children:"fielddata : 힙 공간에 생성하는 메모리 캐시입니다. 메모리 부족현상이 발생할 수 도 있습니다. text 타입을 aggregation 하고 싶을 때 사용하는 필드입니다. (참고: Tag Cloud)"}),"\n",(0,l.jsx)(e.li,{children:"doc_values : 기본 캐시 또는 파일 시스템 캐시를 이용해서 디스크 데이터에 빠르게  접근하는 필드입니다."}),"\n"]}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.h2,{id:"데이터-타입",children:"데이터 타입"}),"\n",(0,l.jsx)(e.h3,{id:"keyword",children:"Keyword(*)"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"자료조사 더 필요"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["키워드 형태로 사용할 데이터에 적합한 데이터 타입입니다. 분석기를 거치지 않으며 원문 그대로 인덱싱합니다. 검색시 필터링, 정렬, ",(0,l.jsx)(e.br,{})]}),"\n",(0,l.jsx)(e.h3,{id:"text",children:"Text"}),"\n",(0,l.jsx)(e.p,{children:"문장 형태의 데이터에 적합한 타입입니다. Full Text Search 가 가능하며, 특정 단어 검색이 가능합니다. 만약 정렬, 집계가 필요할 경우 Text, Keyword 를 멀티 필드로 지정합니다. 이렇게 하면 목적에 맞게 활용이 가능해집니다."}),"\n",(0,l.jsxs)(e.p,{children:["Text 타입의 경우 인덱싱 시에 Analyzer 가 데이터를 문자열로 인식해서 분석을 하며 기본적으로 사용되는 분석기는 StandardAnalyzer 입니다.",(0,l.jsx)(e.br,{})]}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.h3,{id:"array",children:"Array"}),"\n",(0,l.jsx)(e.p,{children:"Array 내의 데이터는 모두 같은 타입이어야 합니다. 인덱스의 특정 필드에 배열이 입력되는 순간 자동으로 Array 로 저장됩니다."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["e.g. ",(0,l.jsx)(e.code,{children:'"gender": ["male", "female"]'})]}),"\n"]}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.h3,{id:"boolean",children:"Boolean"}),"\n",(0,l.jsxs)(e.p,{children:["true, false 를 지정할 수 있는 타입입니다. 문자가 들어와도 boolean 으로 해석되어 저장되는 것이 가능합니다.",(0,l.jsx)(e.br,{})]}),"\n",(0,l.jsx)(e.br,{}),"\n",(0,l.jsx)(e.h3,{id:"date",children:"Date"}),"\n",(0,l.jsx)(e.p,{children:"날짜 형식으로 인식될 수 있는 포맷은 아래와 같으며 이 외에도 ISO8601 형식으로 오는 모든 경우 Date 로 인식됩니다."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:'"2024-12-25"'}),"\n",(0,l.jsx)(e.li,{children:'"2024-12-25T12:25:25"'}),"\n",(0,l.jsx)(e.li,{children:'"2024-12-25T12:25:25+09:00"'}),"\n",(0,l.jsx)(e.li,{children:'"2024-12-25T12:25:25.428Z"'}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["만약 다른 타입으로 데이터가 올 경우 ",(0,l.jsx)(e.code,{children:"text"}),", ",(0,l.jsx)(e.code,{children:"keyword"})," 로 저장되게 됩니다. ",(0,l.jsx)(e.code,{children:"epoch_millis"}),", ",(0,l.jsx)(e.code,{children:"epoch_second"})," 도 가능합니다.",(0,l.jsx)(e.br,{})]}),"\n",(0,l.jsxs)(e.p,{children:["만약 원하는 형식으로 데이터가 저장되기를 원할 경우 ",(0,l.jsx)(e.code,{children:"format"})," 옵션을 지정해줍니다."]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["e.g. ",(0,l.jsx)(e.code,{children:'"format": "yyyy-MM-dd HH:mm:ss||yyyy/MM/dd||epoch_millis"'}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"위의 예시는 2024-12-25 14:25:25, 2024/12/25, epoch_millis 로 모두 받을 수 있도록 지정하고 있습니다."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"ip",children:"IP"}),"\n",(0,l.jsxs)(e.p,{children:["IP 주소 데이터를 저장하는 데에 사용되는 타입입니다. IPv4, IPV6 타입 모두를 지원할 수 있습니다.",(0,l.jsx)(e.br,{})]}),"\n",(0,l.jsx)(e.h3,{id:"range",children:"Range"}),"\n",(0,l.jsx)(e.p,{children:"숫자, 날짜, IP 등과 같은 데이터를 다룰 수 있으며 범위를 지정할 수 있는 데이터에 사용하는 데이터 타입입니다."}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"integer_range"}),"\n",(0,l.jsx)(e.li,{children:"float_range"}),"\n",(0,l.jsx)(e.li,{children:"long_range"}),"\n",(0,l.jsx)(e.li,{children:"double_range"}),"\n",(0,l.jsx)(e.li,{children:"date_range"}),"\n",(0,l.jsx)(e.li,{children:"ip_range"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["데이터의 범위는 gt, lt, gte, lte 를 이용해서 지정합니다.",(0,l.jsx)(e.br,{})]}),"\n",(0,l.jsx)(e.h3,{id:"object",children:"Object"}),"\n",(0,l.jsxs)(e.p,{children:["JSON 에서는 내부 객체를 계층적으로 중첩해서 표현이 가능한데, 한 필드 안에서 또 다른 객체를 타입하도록 Object 타입으로 선언하는 것이 가능합니다. 한 요소가 여러 하위 정보를 가질 경우에 필드를 Object 타입으로 정의합니다.",(0,l.jsx)(e.br,{})]}),"\n",(0,l.jsx)(e.h3,{id:"nested",children:"Nested(*)"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"자료조사 더 필요"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"Object 객체 배열을 독립적으로 색인하고 쿼리하는 형태의 데이터 타입입니다. 객체 내에 배열의 형태로 저장가능합니다."}),"\n",(0,l.jsx)(e.h2,{id:"metadata-field",children:"Metadata Field"}),"\n",(0,l.jsx)(e.p,{children:"indexing 할 데이터를 어떤 방식으로 저장할지를 정의하는 설정들입니다"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"_index"})," : 인덱스 명"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"_type"}),": Document 가 속한 매핑의 타입 정보"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"_id"})," : Document 를 식별할 수 있는 키값"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"_source"})," : Document 의 데이터 입니다. json 형식입니다."]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"_field_names"})," : null 이 아닌 값을 포함하는 문서의 모든 필드"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"_routing"})," : 특정 문서를 특정 샤드에 저장하기 위해 사용하는 필드"]}),"\n"]})]})}let o={MDXContent:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,c.a)(),s.components);return e?(0,l.jsx)(e,{...s,children:(0,l.jsx)(_createMdxContent,{...s})}):_createMdxContent(s)},pageOpts:{filePath:"pages/elasticsearch/mapping.md",route:"/elasticsearch/mapping",timestamp:1717709133e3,pageMap:[{kind:"Folder",name:"elasticsearch",route:"/elasticsearch",children:[{kind:"MdxPage",name:"aggregation",route:"/elasticsearch/aggregation"},{kind:"MdxPage",name:"document-api",route:"/elasticsearch/document-api"},{kind:"MdxPage",name:"elk-elasticsearch",route:"/elasticsearch/elk-elasticsearch"},{kind:"MdxPage",name:"mapping",route:"/elasticsearch/mapping"},{kind:"MdxPage",name:"search-api-querydsl",route:"/elasticsearch/search-api-querydsl"},{kind:"MdxPage",name:"settings-and-import-example-data",route:"/elasticsearch/settings-and-import-example-data"},{kind:"Meta",data:{"elk-elasticsearch":"Elasticsearch","settings-and-import-example-data":"Settings, Example Data Import","document-api":"Document API","search-api-querydsl":"Search API, Querydsl",aggregation:"Aggregation",mapping:"Mapping"}}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"Meta",data:{index:"Introduction",elasticsearch:"Elasticsearch",logstash:"logstash","practice-1":"실습 (1)",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0}}}],flexsearch:{codeblocks:!0},title:"Mapping",headings:t},pageNextRoute:"/elasticsearch/mapping",nextraLayout:r.ZP,themeConfig:a.Z};e.default=(0,i.j)(o)},8426:function(s,e,n){"use strict";var l=n(5893);n(7294);let i={logo:(0,l.jsx)("span",{children:"Docs ELK Study Log"}),project:{link:"https://github.com/chagchagchag/docs-elk-study-log"},docsRepositoryBase:"https://github.com/chagchagchag/docs-elk-study-log",footer:{text:"Nextra Docs Template"}};e.Z=i},5789:function(){}},function(s){s.O(0,[774,796,888,179],function(){return s(s.s=890)}),_N_E=s.O()}]);